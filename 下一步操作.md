# 下一步操作指南

## 步驟 1: 建立 MySQL 資料庫

### 方法 A - 使用 MySQL 命令列

```bash
mysql -u root -p
```

輸入密碼後，執行：
```sql
CREATE DATABASE issue_system CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
EXIT;
```

### 方法 B - 使用 MySQL Workbench

1. 開啟 MySQL Workbench
2. 連接到 MySQL 伺服器
3. 執行以下 SQL：
```sql
CREATE DATABASE issue_system CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

### 方法 C - 使用 SQL 檔案

```bash
mysql -u root -p < backend/create_db.sql
```

## 步驟 2: 啟動虛擬環境

在 PowerShell 中：

```powershell
cd C:\Users\FAE\issue-system\backend
.venv\Scripts\Activate.ps1
```

如果遇到執行政策錯誤：
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

## 步驟 3: 執行資料庫遷移（建表）

```powershell
# 確保虛擬環境已啟動（提示符前會有 (.venv)）
python manage.py makemigrations
python manage.py migrate
```

這會建立所有資料表。

## 步驟 4: 建立超級使用者（選配，用於 Admin 後台）

```powershell
python manage.py createsuperuser
```

按照提示輸入：
- 使用者名稱
- Email（可選）
- 密碼（輸入兩次）

## 步驟 5: 啟動開發伺服器

```powershell
python manage.py runserver 0.0.0.0:8000
```

## 驗證設置

開啟瀏覽器訪問：

1. **API 文件**: http://localhost:8000/api/docs/
   - 應該看到 Swagger UI 介面

2. **Admin 後台**: http://localhost:8000/admin/
   - 使用步驟 4 建立的超級使用者登入

3. **API 測試**: http://localhost:8000/api/issues/
   - 應該看到 Issue 列表（可能是空的）

## 如果遇到問題

### 資料庫連線失敗

檢查：
1. `.env` 檔案中的 `DB_PASSWORD` 是否正確
2. MySQL 服務是否啟動
3. 資料庫 `issue_system` 是否已建立

### 遷移失敗

```powershell
# 查看詳細錯誤
python manage.py migrate --verbosity 2
```

### 端口被占用

```powershell
# 使用其他端口
python manage.py runserver 0.0.0.0:8001
```

## 完成後

後端 API 已啟動，可以：
1. 在前端連接後端 API
2. 使用 Admin 後台管理資料
3. 開始開發功能

